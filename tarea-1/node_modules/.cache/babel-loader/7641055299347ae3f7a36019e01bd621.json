{"ast":null,"code":"import _regeneratorRuntime from\"/Users/albertoquense/Desktop/rick-morty copy/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/albertoquense/Desktop/rick-morty copy/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/albertoquense/Desktop/rick-morty copy/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from\"react\";export default(function(url){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),response=_useState2[0],setResponse=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,json,newPage,newJson,next;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(url);case 3:res=_context.sent;_context.next=6;return res.json();case 6:json=_context.sent;// Revisar si hay otra pagina\nnewPage=null;newJson=null;next=json.info&&json.info.next?json.info.next:null;case 10:if(!next){_context.next=21;break;}_context.next=13;return fetch(next);case 13:newPage=_context.sent;_context.next=16;return newPage.json();case 16:newJson=_context.sent;json.results=json.results.concat(newJson.results);next=newJson.next;_context.next=10;break;case 21:setResponse(json);_context.next=27;break;case 24:_context.prev=24;_context.t0=_context[\"catch\"](0);setError(_context.t0);case 27:case\"end\":return _context.stop();}}},_callee,null,[[0,24]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[url]);return{response:response,error:error};});","map":{"version":3,"sources":["/Users/albertoquense/Desktop/rick-morty copy/src/utils/hooks/useFetch.js"],"names":["useState","useEffect","url","response","setResponse","error","setError","fetchData","fetch","res","json","newPage","newJson","next","info","results","concat"],"mappings":"0XAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CAEA,eAAe,SAAAC,GAAG,CAAI,eACYF,QAAQ,CAAC,IAAD,CADpB,wCACbG,QADa,eACHC,WADG,8BAEMJ,QAAQ,CAAC,IAAD,CAFd,yCAEbK,KAFa,eAENC,QAFM,eAGpBL,SAAS,CAAC,UAAM,CACd,GAAMM,CAAAA,SAAS,0FAAG,2MAEIC,CAAAA,KAAK,CAACN,GAAD,CAFT,QAERO,GAFQ,qCAGKA,CAAAA,GAAG,CAACC,IAAJ,EAHL,QAGRA,IAHQ,eAId;AACIC,OALU,CAKA,IALA,CAMVC,OANU,CAMA,IANA,CAOVC,IAPU,CAOHH,IAAI,CAACI,IAAL,EAAaJ,IAAI,CAACI,IAAL,CAAUD,IAAvB,CAA8BH,IAAI,CAACI,IAAL,CAAUD,IAAxC,CAA+C,IAP5C,aAQPA,IARO,iDASIL,CAAAA,KAAK,CAACK,IAAD,CATT,SASZF,OATY,sCAUIA,CAAAA,OAAO,CAACD,IAAR,EAVJ,SAUZE,OAVY,eAWZF,IAAI,CAACK,OAAL,CAAeL,IAAI,CAACK,OAAL,CAAaC,MAAb,CAAoBJ,OAAO,CAACG,OAA5B,CAAf,CACAF,IAAI,CAAGD,OAAO,CAACC,IAAf,CAZY,+BAcdT,WAAW,CAACM,IAAD,CAAX,CAdc,iFAgBdJ,QAAQ,aAAR,CAhBc,qEAAH,kBAATC,CAAAA,SAAS,0CAAf,CAmBAA,SAAS,GACV,CArBQ,CAqBN,CAACL,GAAD,CArBM,CAAT,CAsBA,MAAO,CAAEC,QAAQ,CAARA,QAAF,CAAYE,KAAK,CAALA,KAAZ,CAAP,CACD,CA1BD","sourcesContent":["import { useState, useEffect } from \"react\";\r\n\r\nexport default url => {\r\n  const [response, setResponse] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const res = await fetch(url);\r\n        const json = await res.json();\r\n        // Revisar si hay otra pagina\r\n        var newPage = null;\r\n        var newJson = null;\r\n        var next = json.info && json.info.next ? json.info.next : null;\r\n        while (next) {\r\n          newPage = await fetch(next);\r\n          newJson = await newPage.json();\r\n          json.results = json.results.concat(newJson.results);\r\n          next = newJson.next;\r\n        }\r\n        setResponse(json);\r\n      } catch (error) {\r\n        setError(error);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [url]);\r\n  return { response, error };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}